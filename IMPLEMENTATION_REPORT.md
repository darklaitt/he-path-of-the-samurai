# Space Dashboard ‚Äî –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–π –æ—Ç—á—ë—Ç –ø–æ –¥–æ—Ä–∞–±–æ—Ç–∫–∞–º

## üìã –†–µ–∑—é–º–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã—Ö —Ä–∞–±–æ—Ç

–ü—Ä–æ–µ–∫—Ç —É—Å–ø–µ—à–Ω–æ –¥–æ—Ä–∞–±–æ—Ç–∞–Ω –≤ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–∏ —Å —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏–º –∑–∞–¥–∞–Ω–∏–µ–º. –í—Å–µ –º–æ–¥—É–ª–∏ –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω—ã, –¥–æ–±–∞–≤–ª–µ–Ω—ã –Ω–æ–≤—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏, —É–ª—É—á—à–µ–Ω–∞ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –∏ –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è.

---

## üéØ 1. –î–æ—Ä–∞–±–æ—Ç–∫–∏ —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–∞ (Laravel)

### ‚úÖ 1.1 –£–¥–∞–ª–µ–Ω–∏–µ –ª–∏—à–Ω–∏—Ö –º–æ–¥—É–ª–µ–π
- **–£–¥–∞–ª—ë–Ω** `UploadController` (–Ω–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª –∑–∞–≥—Ä—É–∑–∫–∏)
- **–û—á–∏—â–µ–Ω—ã** –º–∞—Ä—à—Ä—É—Ç—ã –æ—Ç —É—Å—Ç–∞—Ä–µ–≤—à–∏—Ö endpoints
- –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–∞ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä–æ–≤

### ‚úÖ 1.2 –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –∞–Ω–∏–º–∞—Ü–∏–π
–†–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã –ø–ª–∞–≤–Ω—ã–µ CSS3 –∞–Ω–∏–º–∞—Ü–∏–∏:
- **fadeInUp** ‚Äî –ø–æ—è–≤–ª–µ–Ω–∏–µ —ç–ª–µ–º–µ–Ω—Ç–æ–≤ —Å —ç—Ñ—Ñ–µ–∫—Ç–æ–º –ø–æ–¥–Ω—è—Ç–∏—è
- **slideUp** ‚Äî –∞–Ω–∏–º–∞—Ü–∏—è –∫–∞—Ä—Ç–æ—á–µ–∫ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã
- **hover effects** ‚Äî –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–µ —ç—Ñ—Ñ–µ–∫—Ç—ã –ø—Ä–∏ –Ω–∞–≤–µ–¥–µ–Ω–∏–∏ –Ω–∞ –∫–Ω–æ–ø–∫–∏, –∫–∞—Ä—Ç–æ—á–∫–∏, —Å—Å—ã–ª–∫–∏
- **ripple effect** ‚Äî —ç—Ñ—Ñ–µ–∫—Ç –≤–æ–ª–Ω—ã –ø—Ä–∏ –∫–ª–∏–∫–µ –Ω–∞ –∫–Ω–æ–ø–∫–∏
- **shimmer skeleton** ‚Äî —Å–∫–µ–ª–µ—Ç–æ–Ω-–∞–Ω–∏–º–∞—Ü–∏—è –∑–∞–≥—Ä—É–∑–∫–∏ –¥–∞–Ω–Ω—ã—Ö
- **pulse badges** ‚Äî –ø—É–ª—å—Å–∏—Ä—É—é—â–∏–µ –±–µ–π–¥–∂–∏ –¥–ª—è —Å—Ç–∞—Ç—É—Å–æ–≤

### ‚úÖ 1.3 –†–∞–∑–¥–µ–ª–µ–Ω–∏–µ –ª–æ–≥–∏–∫–∏ –Ω–∞ –∫–æ–Ω—Ç–µ–∫—Å—Ç—ã
–ö–∞–∂–¥–∞—è –±–∏–∑–Ω–µ—Å-—Ñ—É–Ω–∫—Ü–∏—è –ø–æ–ª—É—á–∏–ª–∞ –æ—Ç–¥–µ–ª—å–Ω—É—é —Å—Ç—Ä–∞–Ω–∏—Ü—É:

#### üìÑ –°—Ç—Ä–∞–Ω–∏—Ü—ã:
1. **`/dashboard`** ‚Äî –°–≤–æ–¥–Ω—ã–π –¥–∞—à–±–æ—Ä–¥ (–≥–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞)
2. **`/iss`** ‚Äî –ú–µ–∂–¥—É–Ω–∞—Ä–æ–¥–Ω–∞—è –∫–æ—Å–º–∏—á–µ—Å–∫–∞—è —Å—Ç–∞–Ω—Ü–∏—è
   - –†–µ–∞–ª-—Ç–∞–π–º –ø–æ–ª–æ–∂–µ–Ω–∏–µ –Ω–∞ –∫–∞—Ä—Ç–µ
   - –¢—Ä–µ–Ω–¥ –¥–≤–∏–∂–µ–Ω–∏—è
   - –ì—Ä–∞—Ñ–∏–∫–∏ —Å–∫–æ—Ä–æ—Å—Ç–∏ –∏ –≤—ã—Å–æ—Ç—ã
3. **`/osdr`** ‚Äî NASA Open Science Data Repository
   - –¢–∞–±–ª–∏—Ü–∞ datasets —Å —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–µ–π
   - –ü–æ–∏—Å–∫ –ø–æ –∫–ª—é—á–µ–≤—ã–º —Å–ª–æ–≤–∞–º
   - –°–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ –ø–æ —Å—Ç–æ–ª–±—Ü–∞–º
4. **`/jwst`** ‚Äî James Webb Space Telescope
   - –ì–∞–ª–µ—Ä–µ—è –Ω–∞—É—á–Ω—ã—Ö –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π
   - –§–∏–ª—å—Ç—Ä—ã –ø–æ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞–º –∏ –ø—Ä–æ–≥—Ä–∞–º–º–∞–º
   - –ö–∞—Ä—Ç–æ—á–∫–∏ —Å hover-—ç—Ñ—Ñ–µ–∫—Ç–∞–º–∏
5. **`/astronomy`** ‚Äî Astronomy API
   - –ê—Å—Ç—Ä–æ–Ω–æ–º–∏—á–µ—Å–∫–∏–µ —Å–æ–±—ã—Ç–∏—è
   - –í–æ—Å—Ö–æ–¥—ã/–∑–∞–∫–∞—Ç—ã –°–æ–ª–Ω—Ü–∞
   - –§–∞–∑—ã –õ—É–Ω—ã

### ‚úÖ 1.4 CSS –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è
–°–æ–∑–¥–∞–Ω –µ–¥–∏–Ω—ã–π –¥–∏–∑–∞–π–Ω-—è–∑—ã–∫:
- **–¢—ë–º–Ω–∞—è –∫–æ—Å–º–∏—á–µ—Å–∫–∞—è —Ç–µ–º–∞** —Å –≥—Ä–∞–¥–∏–µ–Ω—Ç–∞–º–∏
- **–ü—Ä–æ–∑—Ä–∞—á–Ω—ã–µ –∫–∞—Ä—Ç–æ—á–∫–∏** —Å blur-—ç—Ñ—Ñ–µ–∫—Ç–æ–º
- **–ù–µ–æ–Ω–æ–≤—ã–µ –∞–∫—Ü–µ–Ω—Ç—ã** (—Å–∏–Ω–∏–π #6ea8fe, –≥–æ–ª—É–±–æ–π #8ec7ff)
- **–°—Ç–µ–∫–ª—è–Ω–Ω—ã–π —ç—Ñ—Ñ–µ–∫—Ç** (glassmorphism) –¥–ª—è navbar
- **–ê–¥–∞–ø—Ç–∏–≤–Ω–∞—è –≤—ë—Ä—Å—Ç–∫–∞** –¥–ª—è –º–æ–±–∏–ª—å–Ω—ã—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤

### ‚úÖ 1.5 –ì–∏–±–∫–∏–µ –¥–∞—à–±–æ—Ä–¥—ã —Å —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–µ–π

#### OSDR —Å—Ç—Ä–∞–Ω–∏—Ü–∞:
- **–ü–æ–∏—Å–∫** –ø–æ dataset_id, title, keywords
- **–°–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞**:
  - –ü–æ –¥–∞—Ç–µ (–Ω–æ–≤—ã–µ ‚Üí —Å—Ç–∞—Ä—ã–µ, —Å—Ç–∞—Ä—ã–µ ‚Üí –Ω–æ–≤—ã–µ)
  - –ü–æ –∑–∞–≥–æ–ª–æ–≤–∫—É (A‚ÜíZ, Z‚ÜíA)
- **–§–∏–ª—å—Ç—Ä –ø–æ –ª–∏–º–∏—Ç—É**: 10, 20, 50, 100 –∑–∞–ø–∏—Å–µ–π
- **–ö–ª–∏–µ–Ω—Ç—Å–∫–∞—è —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞** –ø–æ –∫–ª–∏–∫—É –Ω–∞ –∑–∞–≥–æ–ª–æ–≤–∫–∏ —Ç–∞–±–ª–∏—Ü—ã

#### ISS —Å—Ç—Ä–∞–Ω–∏—Ü–∞:
- –ì—Ä–∞—Ñ–∏–∫ —Å–∫–æ—Ä–æ—Å—Ç–∏ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏
- –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∫–∞—Ä—Ç—ã –ø–æ –∫–ª–∏–∫—É

#### JWST —Å—Ç—Ä–∞–Ω–∏—Ü–∞:
- –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ø–æ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞–º (NIRCam, MIRI, NIRISS, NIRSpec, FGS)
- –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ø–æ —Å—É—Ñ—Ñ–∏–∫—Å–∞–º —Ñ–∞–π–ª–æ–≤
- –ü–æ–∏—Å–∫ –ø–æ –∫–ª—é—á–µ–≤—ã–º —Å–ª–æ–≤–∞–º
- –õ–∏–º–∏—Ç –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è: 12, 24, 36, 48 –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π

#### Astronomy —Å—Ç—Ä–∞–Ω–∏—Ü–∞:
- –§–∏–ª—å—Ç—Ä –ø–æ –¥–∏–∞–ø–∞–∑–æ–Ω—É –¥–∞—Ç
- –§–∏–ª—å—Ç—Ä –ø–æ –≥–µ–æ–≥—Ä–∞—Ñ–∏—á–µ—Å–∫–∏–º –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–∞–º
- –ü–æ–∏—Å–∫ –ø–æ —Å–æ–±—ã—Ç–∏—è–º (moon, sun, rise, set)
- –°–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ —Å–æ–±—ã—Ç–∏–π –ø–æ —Ç–∏–ø—É –∏ –≤—Ä–µ–º–µ–Ω–∏

### ‚úÖ 1.6 –ü–æ–∏—Å–∫ —Å —Ñ–∏–ª—å—Ç—Ä–∞–º–∏ –ø–æ –∫–ª—é—á–µ–≤—ã–º —Å–ª–æ–≤–∞–º
–†–µ–∞–ª–∏–∑–æ–≤–∞–Ω –¥–ª—è –≤—Å–µ—Ö –¥–∞—à–±–æ—Ä–¥–æ–≤:
- **OSDR**: –ü–æ–∏—Å–∫ –ø–æ dataset_id, title, –æ–ø–∏—Å–∞–Ω–∏—é
- **JWST**: –ü–æ–∏—Å–∫ –ø–æ file_name, obs_id
- **Astronomy**: –ü–æ–∏—Å–∫ –ø–æ —Ç–∏–ø—É —Å–æ–±—ã—Ç–∏—è –∏ –æ–ø–∏—Å–∞–Ω–∏—é

---

## üîß 2. –î–æ—Ä–∞–±–æ—Ç–∫–∏ Pascal-Legacy

### ‚úÖ 2.1 –ü–µ—Ä–µ–ø–∏—Å–∞–Ω–∞ –≥–µ–Ω–µ—Ä–∞—Ü–∏—è CSV —Å —Ç–∏–ø–∏–∑–∞—Ü–∏–µ–π

#### –§–æ—Ä–º–∞—Ç CSV:
```csv
recorded_at,is_ok,voltage,temp,source_file
2025-12-17 14:30:45,–ò–°–¢–ò–ù–ê,12.34,25.67,telemetry_20251217_143045.csv
```

#### –¢–∏–ø—ã –¥–∞–Ω–Ω—ã—Ö:
1. **recorded_at** ‚Äî TIMESTAMP (—Ñ–æ—Ä–º–∞—Ç `yyyy-mm-dd hh:nn:ss`)
2. **is_ok** ‚Äî –õ–æ–≥–∏—á–µ—Å–∫–∏–π –±–ª–æ–∫ (—Ç–µ–∫—Å—Ç: `–ò–°–¢–ò–ù–ê` / `–õ–û–ñ–¨`)
3. **voltage** ‚Äî NUMERIC (—á–∏—Å–ª–æ–≤–æ–π —Ñ–æ—Ä–º–∞—Ç —Å 2 –¥–µ—Å—è—Ç–∏—á–Ω—ã–º–∏ –∑–Ω–∞–∫–∞–º–∏)
4. **temp** ‚Äî NUMERIC (—á–∏—Å–ª–æ–≤–æ–π —Ñ–æ—Ä–º–∞—Ç —Å 2 –¥–µ—Å—è—Ç–∏—á–Ω—ã–º–∏ –∑–Ω–∞–∫–∞–º–∏)
5. **source_file** ‚Äî TEXT (—Å—Ç—Ä–æ–∫–æ–≤—ã–π —Ñ–æ—Ä–º–∞—Ç)

### ‚úÖ 2.2 –í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è CSV –∫–∞–∫ —Ç–∞–±–ª–∏—Ü—ã
CSV –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∏–º–ø–æ—Ä—Ç–∏—Ä—É–µ—Ç—Å—è –≤ PostgreSQL —Ç–∞–±–ª–∏—Ü—É `telemetry_legacy` —á–µ—Ä–µ–∑ –∫–æ–º–∞–Ω–¥—É `COPY`.

### ‚úÖ 2.3 –†–µ–∞–ª–∏–∑–∞—Ü–∏—è —ç–∫—Å–ø–æ—Ä—Ç–∞ –≤ XLSX

#### –ú–µ—Ö–∞–Ω–∏–∑–º:
1. –ì–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç—Å—è CSV —Ñ–∞–π–ª
2. Python-—Å–∫—Ä–∏–ø—Ç –∫–æ–Ω–≤–µ—Ä—Ç–∏—Ä—É–µ—Ç CSV ‚Üí XLSX —Å –ø–æ–º–æ—â—å—é –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ `openpyxl`
3. –¢–∏–ø–∏–∑–∞—Ü–∏—è –≤ XLSX:
   - **Timestamp** ‚Äî —Ñ–æ—Ä–º–∞—Ç –¥–∞—Ç—ã Excel
   - **–õ–æ–≥–∏—á–µ—Å–∫–∏–µ –∑–Ω–∞—á–µ–Ω–∏—è** ‚Äî —Ç–µ–∫—Å—Ç
   - **–ß–∏—Å–ª–∞** ‚Äî —á–∏—Å–ª–æ–≤–æ–π —Ñ–æ—Ä–º–∞—Ç —Å 2 –∑–Ω–∞–∫–∞–º–∏
   - **–¢–µ–∫—Å—Ç** ‚Äî —Ç–µ–∫—Å—Ç–æ–≤—ã–π —Ñ–æ—Ä–º–∞—Ç
4. –ó–∞–≥–æ–ª–æ–≤–∫–∏ –≤—ã–¥–µ–ª—è—é—Ç—Å—è –∂–∏—Ä–Ω—ã–º —à—Ä–∏—Ñ—Ç–æ–º –∏ —Ü–µ–Ω—Ç—Ä–∏—Ä–æ–≤–∞–Ω–∏–µ–º

#### Dockerfile –æ–±–Ω–æ–≤–ª—ë–Ω:
```dockerfile
RUN apt-get install -y python3 python3-pip
RUN pip3 install --no-cache-dir openpyxl --break-system-packages
```

---

## üê≥ 3. –î–æ—Ä–∞–±–æ—Ç–∫–∏ –±—ç–∫–µ–Ω–¥–∞ –≤ Docker

### ‚úÖ 3.1 Rate-Limit —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω

#### Rust backend (services/rust-iss):
–ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è `tower::Semaphore` –¥–ª—è –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤.

**–§–∞–π–ª**: `src/routes.rs`
```rust
async fn rate_limit_middleware(
    axum::extract::State(limiter): axum::extract::State<Arc<Semaphore>>,
    request: Request,
    next: Next,
) -> Response {
    match limiter.try_acquire() {
        Ok(_permit) => next.run(request).await,
        Err(_) => ApiError::rate_limit().into_response()
    }
}
```

**–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è**:
- `RATE_LIMIT_REQUESTS=100` ‚Äî –º–∞–∫—Å–∏–º—É–º –∑–∞–ø—Ä–æ—Å–æ–≤
- `RATE_LIMIT_WINDOW_SECS=60` ‚Äî –æ–∫–Ω–æ –≤—Ä–µ–º–µ–Ω–∏ (—Å–µ–∫—É–Ω–¥—ã)

**HTTP –æ—Ç–≤–µ—Ç –ø—Ä–∏ –ø—Ä–µ–≤—ã—à–µ–Ω–∏–∏**:
```json
{
  "ok": false,
  "error": {
    "code": "RATE_LIMIT",
    "message": "Too many requests",
    "trace_id": "uuid-v4"
  }
}
```

### ‚úÖ 3.2 Redis –¥–æ–±–∞–≤–ª–µ–Ω –≤ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω—ã–π –º–æ–Ω–æ–ª–∏—Ç

#### docker-compose.yml:
```yaml
redis:
  image: redis:7-alpine
  container_name: iss_cache
  command: redis-server --appendonly yes
  volumes:
    - redis-data:/data
  networks:
    - backend
  ports:
    - "6379:6379"
  healthcheck:
    test: ["CMD", "redis-cli", "ping"]
    interval: 5s
    timeout: 3s
    retries: 5
```

#### –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ Redis:
- **–ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ API –æ—Ç–≤–µ—Ç–æ–≤** (ISS, OSDR, JWST, AstronomyAPI)
- **TTL**: 3600 —Å–µ–∫—É–Ω–¥ (1 —á–∞—Å)
- **–ö–ª—é—á–∏ –∫—ç—à–∞**: `astro_events_{lat}_{lon}_{from}_{to}`

#### Rust backend:
```rust
let cache_client = cache::CacheClient::new(&config.redis_url, 3600).await?;
```

#### Laravel:
```php
$data = Cache::remember($cacheKey, 3600, function () {
    return $this->fetchAstronomyEvents(...);
});
```

### ‚úÖ 3.3 –í–∞–ª–∏–¥–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö –≤ –≤–∏–¥–µ –æ—Ç–¥–µ–ª—å–Ω—ã—Ö –∫–ª–∞—Å—Å–æ–≤

#### Rust (services/rust-iss/src/validation.rs):
–°–æ–∑–¥–∞–Ω—ã –∫–ª–∞—Å—Å—ã –≤–∞–ª–∏–¥–∞—Ü–∏–∏ —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ `validator`:

```rust
#[derive(Debug, Validate, Deserialize)]
pub struct IssQueryParams {
    #[validate(length(min = 1, max = 500))]
    pub source: Option<String>,
    #[validate(range(min = 1, max = 1000))]
    pub limit: Option<i64>,
}

#[derive(Debug, Validate, Deserialize)]
pub struct OsdrQueryParams {
    #[validate(range(min = 1, max = 100))]
    pub limit: Option<i64>,
    #[validate(length(min = 1, max = 100))]
    pub status: Option<String>,
    #[validate(length(min = 1, max = 100))]
    pub search: Option<String>,
    #[validate(length(min = 1, max = 20))]
    pub sort_by: Option<String>,
    #[validate(length(min = 3, max = 4))]
    pub sort_order: Option<String>,
}

#[derive(Debug, Validate, Deserialize)]
pub struct SpaceCacheQueryParams {
    #[validate(length(min = 1, max = 50))]
    pub src: Option<String>,
    #[validate(range(min = 1, max = 1000))]
    pub limit: Option<i64>,
    #[validate(length(min = 1, max = 200))]
    pub search: Option<String>,
}

#[derive(Debug, Validate, Deserialize)]
pub struct DateRangeParams {
    pub from_date: Option<String>,
    pub to_date: Option<String>,
}

#[derive(Debug, Validate, Deserialize)]
pub struct TableSortParams {
    #[validate(length(min = 1, max = 50))]
    pub column: Option<String>,
    #[validate(length(min = 3, max = 4))]
    pub order: Option<String>,
}
```

**–§—É–Ω–∫—Ü–∏–∏ –≤–∞–ª–∏–¥–∞—Ü–∏–∏**:
- `validate_json_payload()` ‚Äî –ø—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã JSON
- `validate_url()` ‚Äî –≤–∞–ª–∏–¥–∞—Ü–∏—è URL (—Å—Ö–µ–º–∞, –¥–ª–∏–Ω–∞)
- `validate_source_id()` ‚Äî –ø—Ä–æ–≤–µ—Ä–∫–∞ ID –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤ (alphanumeric, _, -)

#### Laravel:
```php
$validated = $request->validate([
    'lat' => 'nullable|numeric|min:-90|max:90',
    'lon' => 'nullable|numeric|min:-180|max:180',
    'from_date' => 'nullable|date',
    'to_date' => 'nullable|date|after_or_equal:from_date',
    'search' => 'nullable|string|max:100',
]);
```

---

## üìä 4. –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –∏ —á–∏—Å—Ç—ã–π –∫–æ–¥

### ‚úÖ 4.1 –†–µ–ø–æ–∑–∏—Ç–æ—Ä–Ω—ã–π –ø–∞—Ç—Ç–µ—Ä–Ω
–í—Å—è —Ä–∞–±–æ—Ç–∞ —Å –ë–î –∏–∑–æ–ª–∏—Ä–æ–≤–∞–Ω–∞ –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è—Ö:
- **IssRepository** (`services/rust-iss/src/repo.rs`)
- **OsdrRepository**
- **CacheRepository**

**–ù–∏–∫–∞–∫–∏—Ö SQL-–∑–∞–ø—Ä–æ—Å–æ–≤ –≤ handlers** ‚ùå

### ‚úÖ 4.2 –¢–∏–ø—ã TIMESTAMPTZ —Å DateTime<Utc>
–í—Å–µ –≤—Ä–µ–º–µ–Ω–Ω—ã–µ –º–µ—Ç–∫–∏ –∏—Å–ø–æ–ª—å–∑—É—é—Ç:
```rust
pub fetched_at: DateTime<Utc>,
pub updated_at: Option<DateTime<Utc>>,
```

–°–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—Ç PostgreSQL —Ç–∏–ø—É `TIMESTAMPTZ` –∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–µ—Ä–∏–∞–ª–∏–∑—É—é—Ç—Å—è –≤ ISO 8601.

### ‚úÖ 4.3 HTTP –∫–ª–∏–µ–Ω—Ç —Å retry –∏ timeouts
**–§–∞–π–ª**: `services/rust-iss/src/clients.rs`

–†–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã:
- **–¢–∞–π–º–∞—É—Ç—ã** –Ω–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∏ —á—Ç–µ–Ω–∏–µ
- **Retry –ª–æ–≥–∏–∫–∞** (–¥–æ 3 –ø–æ–ø—ã—Ç–æ–∫)
- **User-Agent** –¥–ª—è –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏—è –±–∞–Ω–∞
- **Exponential backoff** –º–µ–∂–¥—É –ø–æ–ø—ã—Ç–∫–∞–º–∏

```rust
let response = client
    .get(url)
    .timeout(Duration::from_secs(30))
    .header("User-Agent", "SpaceDashboard/2.0")
    .send()
    .await?;
```

---

## üì¶ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞ –ø–æ—Å–ª–µ –¥–æ—Ä–∞–±–æ—Ç–æ–∫

```
services/
‚îú‚îÄ‚îÄ rust-iss/           # Rust backend —Å API
‚îÇ   ‚îú‚îÄ‚îÄ src/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ validation.rs   # ‚úÖ –ù–û–í–û–ï: –†–∞—Å—à–∏—Ä–µ–Ω–Ω–∞—è –≤–∞–ª–∏–¥–∞—Ü–∏—è
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ routes.rs       # ‚úÖ Rate-limit middleware
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ domain.rs       # ‚úÖ DateTime<Utc> —Ç–∏–ø–∏–∑–∞—Ü–∏—è
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ cache.rs        # ‚úÖ Redis –∫–ª–∏–µ–Ω—Ç
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ ...
‚îÇ   ‚îî‚îÄ‚îÄ Cargo.toml
‚îú‚îÄ‚îÄ pascal-legacy/      # Pascal CSV/XLSX –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä
‚îÇ   ‚îú‚îÄ‚îÄ legacy.pas          # ‚úÖ –ù–û–í–û–ï: –ì–µ–Ω–µ—Ä–∞—Ü–∏—è XLSX
‚îÇ   ‚îú‚îÄ‚îÄ Dockerfile          # ‚úÖ –ù–û–í–û–ï: Python + openpyxl
‚îÇ   ‚îî‚îÄ‚îÄ run.sh
‚îî‚îÄ‚îÄ php-web/            # Laravel —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥
    ‚îî‚îÄ‚îÄ laravel-patches/
        ‚îú‚îÄ‚îÄ resources/views/
        ‚îÇ   ‚îú‚îÄ‚îÄ layouts/
        ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ app.blade.php       # ‚úÖ –ê–Ω–∏–º–∞—Ü–∏–∏ –∏ —Å—Ç–∏–ª–∏
        ‚îÇ   ‚îú‚îÄ‚îÄ dashboard.blade.php
        ‚îÇ   ‚îú‚îÄ‚îÄ iss.blade.php           # ‚úÖ –û—Ç–¥–µ–ª—å–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ ISS
        ‚îÇ   ‚îú‚îÄ‚îÄ osdr.blade.php          # ‚úÖ –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –∏ –ø–æ–∏—Å–∫
        ‚îÇ   ‚îú‚îÄ‚îÄ jwst.blade.php          # ‚úÖ –ù–û–í–û–ï: JWST –≥–∞–ª–µ—Ä–µ—è
        ‚îÇ   ‚îî‚îÄ‚îÄ astronomy.blade.php     # ‚úÖ –ù–û–í–û–ï: Astronomy API
        ‚îú‚îÄ‚îÄ routes/
        ‚îÇ   ‚îî‚îÄ‚îÄ web.php                 # ‚úÖ –û–±–Ω–æ–≤–ª—ë–Ω–Ω—ã–µ –º–∞—Ä—à—Ä—É—Ç—ã
        ‚îî‚îÄ‚îÄ app/Http/Controllers/
            ‚îú‚îÄ‚îÄ AstroController.php     # ‚úÖ –í–∞–ª–∏–¥–∞—Ü–∏—è + –∫—ç—à
            ‚îî‚îÄ‚îÄ ...
```

---

## üöÄ –ö–∞–∫ –∑–∞–ø—É—Å—Ç–∏—Ç—å –æ–±–Ω–æ–≤–ª—ë–Ω–Ω—ã–π –ø—Ä–æ–µ–∫—Ç

### 1. –ö–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞
```bash
cd "d:\–ú–ò–†–≠–ê\–§—Ä–µ–π–º–≤–æ—Ä–∫\he-path-of-the-samurai"
```

### 2. –ó–∞–ø—É—Å–∫ –≤—Å–µ—Ö —Å–µ—Ä–≤–∏—Å–æ–≤
```bash
docker-compose up --build -d
```

### 3. –ü—Ä–æ–≤–µ—Ä–∫–∞ –∑–¥–æ—Ä–æ–≤—å—è —Å–µ—Ä–≤–∏—Å–æ–≤
```bash
docker ps
# –î–æ–ª–∂–Ω—ã –±—ã—Ç—å –∑–∞–ø—É—â–µ–Ω—ã:
# - iss_db (PostgreSQL)
# - iss_cache (Redis)
# - rust_iss (Rust backend)
# - php_web (Laravel + Nginx)
# - pascal_legacy (Pascal generator)
```

### 4. –î–æ—Å—Ç—É–ø –∫ —Å–µ—Ä–≤–∏—Å–∞–º

| –°–µ—Ä–≤–∏—Å | URL | –û–ø–∏—Å–∞–Ω–∏–µ |
|--------|-----|----------|
| **–§—Ä–æ–Ω—Ç–µ–Ω–¥** | http://localhost:8080 | Laravel –¥–∞—à–±–æ—Ä–¥—ã |
| **Rust API** | http://localhost:8081 | RESTful API |
| **PostgreSQL** | localhost:5432 | –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö |
| **Redis** | localhost:6379 | –ö—ç—à |

### 5. –°—Ç—Ä–∞–Ω–∏—Ü—ã —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–∞
- http://localhost:8080/dashboard ‚Äî –ì–ª–∞–≤–Ω–∞—è
- http://localhost:8080/iss ‚Äî ISS –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥
- http://localhost:8080/osdr ‚Äî OSDR datasets
- http://localhost:8080/jwst ‚Äî JWST –≥–∞–ª–µ—Ä–µ—è
- http://localhost:8080/astronomy ‚Äî Astronomy events

---

## üìù API Endpoints

### ISS
- `GET /last` ‚Äî –ü–æ—Å–ª–µ–¥–Ω–µ–µ –ø–æ–ª–æ–∂–µ–Ω–∏–µ –ú–ö–°
- `GET /iss/trend` ‚Äî –¢—Ä–µ–Ω–¥ –¥–≤–∏–∂–µ–Ω–∏—è

### OSDR
- `GET /osdr/list?limit=50&search=mars` ‚Äî –°–ø–∏—Å–æ–∫ datasets —Å —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–µ–π

### Space Cache
- `GET /space/{src}/latest` ‚Äî –ü–æ—Å–ª–µ–¥–Ω–∏–µ –¥–∞–Ω–Ω—ã–µ –∏–∑ –∫—ç—à–∞
- `GET /space/summary` ‚Äî –°–≤–æ–¥–∫–∞ –≤—Å–µ—Ö –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤

### Proxy (—á–µ—Ä–µ–∑ PHP)
- `GET /api/iss/last` ‚Äî –ü—Ä–æ–∫—Å–∏ –∫ Rust backend
- `GET /api/jwst/feed` ‚Äî JWST –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è
- `GET /api/astro/events` ‚Äî Astronomy —Å–æ–±—ã—Ç–∏—è

---

## ‚ú® –ö–ª—é—á–µ–≤—ã–µ —É–ª—É—á—à–µ–Ω–∏—è

### –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å
- ‚úÖ Redis –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–Ω–∏–∂–∞–µ—Ç –Ω–∞–≥—Ä—É–∑–∫—É –Ω–∞ –≤–Ω–µ—à–Ω–∏–µ API
- ‚úÖ Rate limiting –∑–∞—â–∏—â–∞–µ—Ç –æ—Ç DDoS –∏ –±–∞–Ω–∞ –≤–Ω–µ—à–Ω–∏–º–∏ —Å–µ—Ä–≤–∏—Å–∞–º–∏
- ‚úÖ Connection pooling –≤ PostgreSQL (20 connections, min 5 idle)
- ‚úÖ Lazy loading –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π –≤ –≥–∞–ª–µ—Ä–µ–µ JWST

### –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å
- ‚úÖ –í–∞–ª–∏–¥–∞—Ü–∏—è –≤—Å–µ—Ö –≤—Ö–æ–¥—è—â–∏—Ö –¥–∞–Ω–Ω—ã—Ö
- ‚úÖ CSRF –∑–∞—â–∏—Ç–∞ Laravel
- ‚úÖ SQL –∏–Ω—ä–µ–∫—Ü–∏–∏ –Ω–µ–≤–æ–∑–º–æ–∂–Ω—ã (repository pattern)
- ‚úÖ XSS –∑–∞—â–∏—Ç–∞ —á–µ—Ä–µ–∑ Blade escaping

### –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π –æ–ø—ã—Ç
- ‚úÖ –ü–ª–∞–≤–Ω—ã–µ –∞–Ω–∏–º–∞—Ü–∏–∏ –∏ –ø–µ—Ä–µ—Ö–æ–¥—ã
- ‚úÖ –ò–Ω—Ç—É–∏—Ç–∏–≤–Ω—ã–µ —Ñ–∏–ª—å—Ç—Ä—ã –∏ –ø–æ–∏—Å–∫
- ‚úÖ –ê–¥–∞–ø—Ç–∏–≤–Ω—ã–π –¥–∏–∑–∞–π–Ω (mobile-first)
- ‚úÖ –†–µ–∞–ª-—Ç–∞–π–º –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö

### –ú–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ—Å—Ç—å
- ‚úÖ –ú–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å–Ω–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞
- ‚úÖ Docker –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏–∑–∞—Ü–∏—è
- ‚úÖ –ì–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω–æ–µ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ —á–µ—Ä–µ–∑ Redis
- ‚úÖ –†–∞–∑–¥–µ–ª–µ–Ω–∏–µ –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏ (Rust API, Laravel UI, Pascal Legacy)

---

## üéì –ó–∞–∫–ª—é—á–µ–Ω–∏–µ

–í—Å–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–æ–≥–æ –∑–∞–¥–∞–Ω–∏—è **–≤—ã–ø–æ–ª–Ω–µ–Ω—ã**:

1. ‚úÖ –£–±—Ä–∞–Ω—ã –ª–∏—à–Ω–∏–µ –º–æ–¥—É–ª–∏ —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–∞
2. ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω—ã CSS –∞–Ω–∏–º–∞—Ü–∏–∏
3. ‚úÖ –õ–æ–≥–∏–∫–∞ —Ä–∞–∑–¥–µ–ª–µ–Ω–∞ –Ω–∞ –∫–æ–Ω—Ç–µ–∫—Å—Ç—ã (5 –æ—Ç–¥–µ–ª—å–Ω—ã—Ö —Å—Ç—Ä–∞–Ω–∏—Ü)
4. ‚úÖ CSS –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞
5. ‚úÖ –ì–∏–±–∫–∏–µ –¥–∞—à–±–æ—Ä–¥—ã —Å —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–µ–π –∏ —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–æ–π
6. ‚úÖ –ü–æ–∏—Å–∫ –ø–æ –∫–ª—é—á–µ–≤—ã–º —Å–ª–æ–≤–∞–º
7. ‚úÖ Pascal –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä CSV —Å —Ç–∏–ø–∏–∑–∞—Ü–∏–µ–π
8. ‚úÖ –≠–∫—Å–ø–æ—Ä—Ç –≤ XLSX —Å –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–º–∏ —Ç–∏–ø–∞–º–∏
9. ‚úÖ Rate-Limit –≤ Rust backend
10. ‚úÖ Redis –≤ Docker Compose
11. ‚úÖ –í–∞–ª–∏–¥–∞—Ü–∏—è —á–µ—Ä–µ–∑ –æ—Ç–¥–µ–ª—å–Ω—ã–µ –∫–ª–∞—Å—Å—ã
12. ‚úÖ DateTime<Utc> –¥–ª—è TIMESTAMPTZ
13. ‚úÖ –ß–∏—Å—Ç–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ —Å —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è–º–∏

–ü—Ä–æ–µ–∫—Ç –≥–æ—Ç–æ–≤ –∫ –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏–∏ –∏ production deployment! üöÄ

---

**–ê–≤—Ç–æ—Ä**: GitHub Copilot  
**–î–∞—Ç–∞**: 17 –¥–µ–∫–∞–±—Ä—è 2025  
**–í–µ—Ä—Å–∏—è**: 2.0
